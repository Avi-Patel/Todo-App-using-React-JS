(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{15:function(e,t,a){},16:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var c,n=a(1),o=a.n(n),r=a(9),s=a.n(r),l=a(4),i=a(0),d=o.a.createContext(),b=function(e){var t=e.children,a=Object(n.useState)({show:!1,message:void 0}),c=Object(l.a)(a,2),o=c[0],r=c[1],s=Object(n.useRef)(),b=Object(n.useCallback)((function(e){clearTimeout(s.current),r({show:!0,message:e}),s.current=setTimeout((function(){r({show:!1,message:void 0})}),3e3)}),[]);return Object(i.jsxs)(d.Provider,{value:b,children:[t,o.show&&Object(i.jsx)("div",{className:"snackbar",children:o.message})]})},u=function(e){var t=e.label,a=e.isChecked,c=e.onChange;return Object(i.jsxs)("div",{className:"check-box-row mar8 pad8",children:[Object(i.jsx)("input",{type:"checkbox",className:"check-box mar8",checked:a,onChange:c}),Object(i.jsx)("div",{className:"normal-bold-text",children:t})]})},j=o.a.memo(u),O=function(e){var t=e.dataType,a=e.btnClass,c=e.iconClass,n=e.onClick;return Object(i.jsx)("button",{className:"icon-btn ".concat(a),"data-type":t,onClick:n,children:Object(i.jsx)("i",{className:c})})},m=o.a.memo(O),p="EDIT",f="ADD",y="UPDATE",h="DELETE",x="TOGGLE_FROM_SELECTED",C="TOGGLE_COMPLETION",g="RESET_SELECTED_IDS",v="Toggle completion",A="Clear selection",T="Delete",N="SHOW",w="CLOSE",E={PERSONAL:"personal",ACADEMIC:"academic",SOCIAL:"social"},k={LOW:"low",MEDIUM:"medium",HIGH:"high"},S={TITLE:"Title",URGENCY:"Urgency",CATEGORY:"Category"},I="UPDATE_URGENCY_FILTER",_="UPDATE_CATEGORY_FILTER",F="TOGGLE_INCOMPLETE_ENABLED",D="UPDATE_SEARCH_VALUE",L=a(3),M=(c={},Object(L.a)(c,v,"fa fa-check-square cblack"),Object(L.a)(c,A,"fa fa-square-o cblack"),Object(L.a)(c,T,"fa fa-minus-square cblack"),Object(L.a)(c,k.LOW,"fa fa-exclamation-triangle cgreen"),Object(L.a)(c,k.MEDIUM,"fa fa-exclamation-triangle cyellow"),Object(L.a)(c,k.HIGH,"fa fa-exclamation-triangle cred"),Object(L.a)(c,E.PERSONAL,"fa fa-user cwhite"),Object(L.a)(c,E.ACADEMIC,"fa fa-book cwhite"),Object(L.a)(c,E.SOCIAL,"fa fa-users cwhite"),Object(L.a)(c,p,"fa fa-pencil cwhite"),Object(L.a)(c,h,"fa fa-trash cwhite"),c),R=o.a.memo((function(e){var t=e.label,a=e.types,c=e.filter,n=e.onFilterUpdate;return Object(i.jsxs)("div",{className:"filter-row top-bottom-pad8",children:[Object(i.jsx)("div",{className:"normal-bold-text right-left-pad8",children:t}),Object(i.jsx)("div",{className:"filter-btns",children:Object.entries(a).map((function(e){var t=Object(l.a)(e,2),a=t[0],o=t[1],r="icon-btn ".concat(c[o]?"filter-btn-selected":"");return Object(i.jsx)(m,{btnClass:r,dataType:o,iconClass:M[o],onClick:n},a)}))})]})})),U=function(e){var t=e.appliedFilter,a=e.onFilterAction,c=Object(n.useCallback)((function(){return a({type:F})}),[a]),o=Object(n.useCallback)((function(e){var t=e.target.closest("[data-type]");t&&a({type:I,payload:{type:t.dataset.type}})}),[a]),r=Object(n.useCallback)((function(e){var t=e.target.closest("[data-type]");t&&a({type:_,payload:{type:t.dataset.type}})}),[a]);return Object(i.jsxs)("div",{className:"card b12 pad8",children:[Object(i.jsx)(R,{label:"Urgency",types:k,filter:t.urgencyFilter,onFilterUpdate:o}),Object(i.jsx)(R,{label:"Category",types:E,filter:t.categoryFilter,onFilterUpdate:r}),Object(i.jsx)(j,{label:"Not Completed",isChecked:t.isIncompleteEnabled,onChange:c}),Object(i.jsx)("div",{className:"normal-bold-text top-bottom-pad8",children:"Filter Todos"})]})},G=o.a.memo(U),P=function(e){var t=e.value,a=e.onChange,c=e.placeholder,n=e.name,o=e.extraClasses;return Object(i.jsx)("input",{type:"text","data-name":n,value:t,className:"text-input mar8 pad12 ".concat(o||""),placeholder:c,onChange:a})},V=o.a.memo(P),W=function(e){var t=e.label,a=e.onClick,c=e.extraClasses;return Object(i.jsx)("button",{className:"green-btn mar8 ".concat(c),onClick:a,children:t})},Y=o.a.memo(W),H=o.a.memo((function(e){var t=e.date;return Object(i.jsxs)("div",{className:"header__left b8",children:[Object(i.jsx)("div",{className:"header__left__name",children:"Todo App"}),Object(i.jsx)("div",{className:"header__left__date",children:t})]})})),z=o.a.memo((function(e){var t=e.searchValue,a=e.onFilterAction,c=Object(n.useCallback)((function(e){return a({type:D,payload:{newSearchValue:e.target.value}})}),[a]),o=Object(n.useCallback)((function(){return a({type:D,payload:{newSearchValue:""}})}),[a]);return Object(i.jsxs)("div",{className:"header__right",children:[Object(i.jsx)(V,{name:"search",value:t,placeholder:"search todos",onChange:c,extraClasses:"header__right__search-input"}),Object(i.jsx)(Y,{label:"Clear",onClick:o})]})})),J=function(e){var t=e.date,a=e.searchValue,c=e.onFilterAction;return Object(i.jsxs)("div",{className:"header b8 mar4",children:[Object(i.jsx)(H,{date:t}),Object(i.jsx)(z,{searchValue:a,onFilterAction:c})]})},q=o.a.memo(J),B=a(2),K=function(e){var t=e.name,a=e.initialValue,c=e.values,n=e.onChange;return Object(i.jsx)("select",{"data-name":t,value:a,className:"dropdown mar8 pad12",onChange:n,children:Object.entries(c).map((function(e){var t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(i.jsx)("option",{value:c,children:c[0].toUpperCase()+c.slice(1)},a)}))})},Q=o.a.memo(K),X=function(e){var t=e.formData,a=e.onFormChange;return Object(i.jsxs)("div",{className:"form",children:[Object(i.jsx)(V,{name:S.TITLE.toLocaleLowerCase(),value:t.title,placeholder:"Add Todo Title",onChange:a}),Object(i.jsx)("div",{className:"normal-bold-text mar8",children:S.URGENCY}),Object(i.jsx)(Q,{name:S.URGENCY.toLocaleLowerCase(),initialValue:t.urgency,values:k,onChange:a}),Object(i.jsx)("div",{className:"normal-bold-text mar8",children:S.CATEGORY}),Object(i.jsx)(Q,{name:S.CATEGORY.toLocaleLowerCase(),initialValue:t.category,values:E,onChange:a})]})},Z={title:"",urgency:k.LOW,category:E.PERSONAL},$=function(e){var t=e.onTodoAction,a=Object(n.useState)(Z),c=Object(l.a)(a,2),o=c[0],r=c[1],s=Object(n.useCallback)((function(e){return r((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},e.target.dataset.name,e.target.value))}))}),[]),d=Object(n.useCallback)((function(){var e;""!==o.title&&(t({type:f,payload:{newTodos:(e=o,{id:(new Date).valueOf(),date:(new Date).toLocaleString(),title:e.title||"",urgency:e.urgency||k.LOW,category:e.category||E.PERSONAL,completed:!1})}}),r(Z))}),[t,o]);return Object(i.jsxs)("div",{className:"card b12 pad8 top-mar8",children:[Object(i.jsx)("div",{className:"create-todo-text mar8",children:"Create Todo"}),Object(i.jsx)(X,{formData:o,onFormChange:s}),Object(i.jsx)("button",{className:"icon-btn todo-add-btn",onClick:d,children:Object(i.jsx)("div",{className:"fa fa-plus cwhite"})})]})},ee=o.a.memo($),te=function(e){var t=e.todos,a=t.length,c=Object(n.useMemo)((function(){return t.filter((function(e){return e.completed})).length}),[t]),o=0===a?0:Math.round(c/a*100);return Object(i.jsxs)("div",{className:"card b12 pad8 top-mar8",children:[Object(i.jsxs)("div",{className:"percentage-circle",children:[Object(i.jsx)("div",{className:"percetage-text",children:o+" %"}),Object(i.jsxs)("div",{className:"ratio-text",children:[c," / ",a]})]}),Object(i.jsx)("div",{className:"normal-bold-text top-bottom-mar8",children:"Analytics"})]})},ae=o.a.memo(te),ce=function(e){var t=e.todo,a=e.isSelected,c=e.onTodoAction,o=e.onModalWindowAction,r=Object(n.useCallback)((function(){c({type:C,payload:{ids:t.id}})}),[t,c]),s=Object(n.useCallback)((function(){return c({type:h,payload:{ids:t.id}})}),[t,c]),l=Object(n.useCallback)((function(){return c({type:x,payload:{id:t.id}})}),[t.id,c]),d=Object(n.useCallback)((function(){return o({type:N,payload:{data:t}})}),[t,o]);return Object(i.jsxs)("div",{className:"todo mar8 pad8 b12 ".concat(t.completed?"reduced-opacity":"original-opacity"),children:[Object(i.jsxs)("div",{className:"todo__topbar-btns",children:[Object(i.jsx)(m,{btnClass:"todo__topbar-btns__extra-style alter-visibility",iconClass:M[p],onClick:d}),Object(i.jsx)(m,{btnClass:"todo__topbar-btns__extra-style alter-visibility",iconClass:M[h],onClick:s})]}),Object(i.jsx)("div",{className:"normal-bold-text align-center mar10",style:{fontSize:"18px"},children:t.title}),Object(i.jsx)("div",{className:"normal-text align-center mar10",style:{fontSize:"14px"},children:t.date}),Object(i.jsxs)("div",{className:"align-center mar10",children:[Object(i.jsx)("i",{className:" ".concat(M[t.urgency]," todo__preferences-icon mar8")}),Object(i.jsx)("i",{className:" ".concat(M[t.category]," todo__preferences-icon mar8")})]}),Object(i.jsx)(Y,{label:"".concat(t.completed?"Completed Undo?":"Mark Completed"),onClick:r,extraClasses:"todo__toggle-complete-btn mar10"}),Object(i.jsx)("button",{className:" ".concat(a?"blue-circle":"white-circle"," mar8"),onClick:l})]})},ne=o.a.memo(ce),oe=function(e){var t=e.todos,a=e.currentlySelectedIds,c=e.onTodoAction,n=e.onModalWindowAction;return Object(i.jsx)(i.Fragment,{children:t.length?t.map((function(e){return Object(i.jsx)(ne,{todo:e,isSelected:a.includes(e.id),onTodoAction:c,onModalWindowAction:n},e.id)})):Object(i.jsx)("div",{className:"normal-bold-text cwhite top-mar8",children:"No todos to show"})})},re=function(e){var t=e.children,a=e.title,c=Object(n.useState)(!1),o=Object(l.a)(c,2),r=o[0],s=o[1],d=Object(n.useCallback)((function(){return s(!0)}),[]),b=Object(n.useCallback)((function(){return s(!1)}),[]);return Object(i.jsxs)("div",{className:"top-bottom-mar8",style:{display:"flex",alignItems:"center"},onMouseOver:d,onMouseOut:b,children:[t,r&&Object(i.jsx)("div",{className:"hidden-label",children:a})]})},se=function(e){var t=e.currentlySelectedIds,a=e.onTodoAction,c=Object(n.useCallback)((function(){a({type:C,payload:{ids:t}})}),[t,a]),o=Object(n.useCallback)((function(){return a({type:g})}),[a]),r=Object(n.useCallback)((function(){return a({type:h,payload:{ids:t}})}),[t,a]);return Object(i.jsxs)("div",{className:"selection-btns fixed",children:[Object(i.jsx)(re,{title:v,children:Object(i.jsx)(m,{btnClass:"bg-light expand",iconClass:M[v],onClick:c})}),Object(i.jsx)(re,{title:A,children:Object(i.jsx)(m,{btnClass:"bg-light expand",iconClass:M[A],onClick:o})}),Object(i.jsx)(re,{title:T,children:Object(i.jsx)(m,{btnClass:"bg-light expand",iconClass:M[T],onClick:r})})]})},le=o.a.memo(se),ie=function(e){var t=e.children;return Object(i.jsx)("div",{className:"modal",children:Object(i.jsx)("div",{className:"modal__modal-content b12 pad12",children:t})})},de=function(e){var t=e.todo,a=e.onModalWindowAction,c=e.onTodoAction,o=Object(n.useState)(t),r=Object(l.a)(o,2),s=r[0],d=r[1],b=Object(n.useCallback)((function(e){return d((function(t){return Object(B.a)(Object(B.a)({},t),{},Object(L.a)({},e.target.dataset.name,e.target.value))}))}),[]),u=Object(n.useCallback)((function(){""!==s.title&&(c({type:y,payload:{updatedTodos:s}}),a({type:w}))}),[a,c,s]),j=Object(n.useCallback)((function(){return a({type:w})}),[a]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)("div",{className:"cwhite normal-bold-text top-bottom-mar8",children:"Update Your Todo"}),Object(i.jsx)(X,{formData:s,onFormChange:b}),Object(i.jsxs)("div",{children:[Object(i.jsx)(Y,{label:"Update",onClick:u}),Object(i.jsx)(Y,{label:"Cancel",onClick:j})]})]})},be=o.a.memo(de),ue=a(7),je=function(){var e=[],t=function(t){return e.findIndex((function(e){return e.id===t}))},a=function(){return Math.random()<=.9999},c=function(){return localStorage.setItem("todos",JSON.stringify(e))};return{getTodosFromDatabase:function(){return new Promise((function(t,a){var c=JSON.parse(localStorage.getItem("todos")),n=[];c&&(e=[],c.forEach((function(t){e=e.concat(t),n.push(Object(B.a)({},t))}))),t(n)}))},createTodoInDatabase:function(t){return new Promise((function(n,o){a()?((Array.isArray(t)?t:[t]).forEach((function(t){return e=e.concat(Object(B.a)({},t))})),c(),n()):o("Opps!! something went wrong server side, plz try again after sometime")}))},updateTodoInDatabase:function(n){return new Promise((function(o,r){a()?((Array.isArray(n)?n:[n]).forEach((function(a,c){var n=t(a.id);e=e.slice(0,n).concat(Object(B.a)({},a),e.slice(n+1))})),c(),o()):r("Opps!! Cannot update right now, plz try again after sometime")}))},deleteTodoFromDatabase:function(n){return new Promise((function(o,r){a()?((Array.isArray(n)?n:[n]).forEach((function(a){var c=t(a);e=e.slice(0,c).concat(e.slice(c+1))})),c(),o()):r("Opps!! something went wrong while deleting TODO, plz try again after sometime")}))}}}(),Oe=function(e,t){return e.findIndex((function(e){return e.id===t}))},me=function(e,t){var a,c;switch(t.type){case f:return c=Object(ue.a)(e.todos).concat(t.payload.newTodos),Object(B.a)(Object(B.a)({},e),{},{todos:c});case y:return c=Object(ue.a)(e.todos),t.payload.updatedTodos.forEach((function(e){a=Oe(c,e.id),c=c.slice(0,a).concat(e,c.slice(a+1))})),Object(B.a)(Object(B.a)({},e),{},{todos:c});case h:return c=Object(ue.a)(e.todos),t.payload.ids.forEach((function(e){a=Oe(c,e),c=c.slice(0,a).concat(c.slice(a+1))})),Object(B.a)(Object(B.a)({},e),{},{todos:c});case x:return-1===(a=e.currentlySelectedIds.indexOf(t.payload.id))?Object(B.a)(Object(B.a)({},e),{},{currentlySelectedIds:e.currentlySelectedIds.concat(t.payload.id)}):Object(B.a)(Object(B.a)({},e),{},{currentlySelectedIds:e.currentlySelectedIds.slice(0,a).concat(e.currentlySelectedIds.slice(a+1))});case g:return Object(B.a)(Object(B.a)({},e),{},{currentlySelectedIds:[]});default:return e}},pe={todos:[],currentlySelectedIds:[]},fe={urgencyFilter:{},categoryFilter:{},isIncompleteEnabled:!1,searchValue:""},ye=function(e,t){switch(t.type){case I:var a=Object(B.a)(Object(B.a)({},e.urgencyFilter),{},Object(L.a)({},t.payload.type,!e.urgencyFilter[t.payload.type]));return Object(B.a)(Object(B.a)({},e),{},{urgencyFilter:a});case _:var c=Object(B.a)(Object(B.a)({},e.categoryFilter),{},Object(L.a)({},t.payload.type,!e.categoryFilter[t.payload.type]));return Object(B.a)(Object(B.a)({},e),{},{categoryFilter:c});case F:return Object(B.a)(Object(B.a)({},e),{},{isIncompleteEnabled:!e.isIncompleteEnabled});case D:return Object(B.a)(Object(B.a)({},e),{},{searchValue:t.payload.newSearchValue});default:return e}},he=(a(15),function(){var e=function(){var e=Object(n.useReducer)(me,pe),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useContext)(d),r=Object(n.useRef)();r.current=o,Object(n.useEffect)((function(){return je.getTodosFromDatabase().then((function(e){c({type:f,payload:{newTodos:e}})})).catch(r.current)}),[]);var s=Object(n.useCallback)((function(e){var t,n,r=e.type,s=e.payload;switch(r){case f:je.createTodoInDatabase(s.newTodos).then((function(){c({type:f,payload:{newTodos:Array.isArray(s.newTodos)?s.newTodos:[s.newTodos]}})})).catch(o);break;case y:t=s.updatedTodos,je.updateTodoInDatabase(t).then((function(){c({type:y,payload:{updatedTodos:Array.isArray(t)?t:[t]}}),Array.isArray(t)&&c({type:g})})).catch(o);break;case h:n=s.ids,je.deleteTodoFromDatabase(n).then((function(){c({type:h,payload:{ids:Array.isArray(n)?n:[n]}}),Array.isArray(n)&&c({type:g})})).catch(o);break;case C:n=Array.isArray(s.ids)?s.ids:[s.ids],t=n.map((function(e){var t=Oe(a.todos,e);return Object(B.a)(Object(B.a)({},a.todos[t]),{},{completed:!a.todos[t].completed})})),je.updateTodoInDatabase(t).then((function(){c({type:y,payload:{updatedTodos:t}}),c({type:g})})).catch(o);break;case x:c({type:r,payload:s});break;case g:c({type:r})}}),[o,a]);return{todosState:a,onTodoAction:s}}(),t=e.todosState,a=e.onTodoAction,c=function(){var e=Object(n.useReducer)(ye,fe),t=Object(l.a)(e,2);return{filterState:t[0],onFilterAction:t[1]}}(),o=c.filterState,r=c.onFilterAction,s=function(){var e=Object(n.useState)({isOpen:!1}),t=Object(l.a)(e,2),a=t[0],c=t[1];return{modalWindow:a,onModalWindowAction:Object(n.useCallback)((function(e){var t=e.type,a=e.payload;switch(t){case N:c({isOpen:!0,data:a.data});break;case w:c({isOpen:!1})}}),[])}}(),b=s.modalWindow,u=s.onModalWindowAction,j=function(){var e=Object(n.useState)((new Date).toDateString()),t=Object(l.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){setInterval((function(){c((new Date).toDateString())}),6e4)}),[]),{date:a}}().date,O=Object(n.useMemo)((function(){return t.todos.filter((function(e){return function(e,t){var a=!(t.urgencyFilter[k.LOW]||t.urgencyFilter[k.MEDIUM]||t.urgencyFilter[k.HIGH]),c=!(t.categoryFilter[E.PERSONAL]||t.categoryFilter[E.ACADEMIC]||t.categoryFilter[E.SOCIAL]),n=t.isIncompleteEnabled,o=""===t.searchValue||e.title.toLowerCase().indexOf(t.searchValue)+1;return(t.urgencyFilter[e.urgency]||a)&&(t.categoryFilter[e.category]||c)&&(n&&!e.completed||!n)&&o}(e,o)}))}),[o,t]);return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(q,{date:j,searchValue:o.searchValue,onFilterAction:r}),Object(i.jsxs)("div",{className:"todo-app-body mar4",children:[Object(i.jsxs)("div",{className:"sidebar b8 pad8",children:[Object(i.jsx)(G,{appliedFilter:o,onFilterAction:r}),Object(i.jsx)(ee,{onTodoAction:a}),Object(i.jsx)(ae,{todos:O})]}),Object(i.jsx)("div",{className:"todo-panel b8",children:Object(i.jsx)(oe,{todos:O,currentlySelectedIds:t.currentlySelectedIds,onTodoAction:a,onModalWindowAction:u})})]}),Object(i.jsx)(le,{currentlySelectedIds:t.currentlySelectedIds,onTodoAction:a}),b.isOpen&&Object(i.jsx)(ie,{children:Object(i.jsx)(be,{todo:b.data,onModalWindowAction:u,onTodoAction:a})})]})});a(16);s.a.render(Object(i.jsx)(o.a.StrictMode,{children:Object(i.jsx)(b,{children:Object(i.jsx)(he,{})})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.1987521b.chunk.js.map