(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{16:function(e,t,a){},17:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var c=a(1),n=a.n(c),o=a(8),r=a.n(o),s=a(4),l=a(0),i=n.a.createContext(),d=function(e){var t=e.children,a=Object(c.useState)({show:!1,message:void 0}),n=Object(s.a)(a,2),o=n[0],r=n[1],d=Object(c.useRef)(),u=Object(c.useCallback)((function(e){clearTimeout(d.current),r({show:!0,message:e}),d.current=setTimeout((function(){r({show:!1,message:void 0})}),3e3)}),[]);return Object(l.jsxs)(i.Provider,{value:u,children:[t,o.show&&Object(l.jsx)("div",{className:"snackbar",children:o.message})]})},u=n.a.memo((function(e){var t=e.label,a=e.labelColorClass,c=e.isChecked,n=e.onChange;return Object(l.jsxs)("div",{className:"check-box-row mar8 pad8",children:[Object(l.jsx)("input",{type:"checkbox",className:"check-box mar8",checked:c,onChange:n}),Object(l.jsx)("div",{className:"normal-bold-text ".concat(a),children:t})]})}));u.displayName="Checkbox";var b=n.a.memo((function(e){var t=e.dataType,a=e.btnClass,c=e.iconClass,n=e.onClick;return Object(l.jsx)("button",{className:"icon-btn ".concat(a),"data-type":t,onClick:n,children:Object(l.jsx)("i",{className:c})})}));b.displayName="IconButton";var j,O="EDIT",m="ADD",p="UPDATE",y="DELETE",f="TOGGLE_FROM_SELECTED",h="TOGGLE_COMPLETION",x="RESET_SELECTED_IDS",C="Toggle completion",v="Clear selection",g="Delete",A="SHOW",T="CLOSE",w={PERSONAL:"personal",ACADEMIC:"academic",SOCIAL:"social"},N={LOW:"low",MEDIUM:"medium",HIGH:"high"},k={TITLE:"Title",URGENCY:"Urgency",CATEGORY:"Category"},E="UPDATE_URGENCY_FILTER",S="UPDATE_CATEGORY_FILTER",I="TOGGLE_SHOW_INCOMPLETE",_="UPDATE_SEARCH_VALUE",F=a(3),D=(j={},Object(F.a)(j,C,"fa fa-check-square"),Object(F.a)(j,v,"fa fa-square-o"),Object(F.a)(j,g,"fa fa-minus-square"),Object(F.a)(j,N.LOW,"fa fa-exclamation-triangle cgreen"),Object(F.a)(j,N.MEDIUM,"fa fa-exclamation-triangle cyellow"),Object(F.a)(j,N.HIGH,"fa fa-exclamation-triangle cred"),Object(F.a)(j,w.PERSONAL,"fa fa-user"),Object(F.a)(j,w.ACADEMIC,"fa fa-book"),Object(F.a)(j,w.SOCIAL,"fa fa-users"),Object(F.a)(j,O,"fa fa-pencil"),Object(F.a)(j,y,"fa fa-trash"),Object(F.a)(j,m,"fa fa-plus"),Object(F.a)(j,"CLOSE","fa fa-times"),j),L=n.a.memo((function(e){var t=e.label,a=e.types,c=e.filter,n=e.onFilterUpdate;return Object(l.jsxs)("div",{className:"filter-row top-bottom-pad8",children:[Object(l.jsx)("div",{className:"normal-bold-text cwhite pad8",children:t}),Object(l.jsx)("div",{className:"filter-btns",children:Object.entries(a).map((function(e){var a=Object(s.a)(e,2),o=a[0],r=a[1],i="right-left-mar8 ".concat(c[r]?"filter-btn-selected":""),d="".concat("Category"===t?"cwhite":"");return Object(l.jsx)(b,{btnClass:i,dataType:r,iconClass:"".concat(D[r]," ").concat(d),onClick:n},o)}))})]})}));L.displayName="IconGroup";var M=n.a.memo((function(e){var t=e.appliedFilter,a=e.onFilterAction,n=Object(c.useCallback)((function(){return a({type:I})}),[a]),o=Object(c.useCallback)((function(e){var t=e.target.closest("[data-type]");t&&a({type:E,payload:{type:t.dataset.type}})}),[a]),r=Object(c.useCallback)((function(e){var t=e.target.closest("[data-type]");t&&a({type:S,payload:{type:t.dataset.type}})}),[a]);return Object(l.jsxs)("div",{className:"card b12 pad8",children:[Object(l.jsx)(L,{label:"Urgency",types:N,filter:t.urgencyFilter,onFilterUpdate:o}),Object(l.jsx)(L,{label:"Category",types:w,filter:t.categoryFilter,onFilterUpdate:r}),Object(l.jsx)(u,{label:"Incomplete Todos",labelColorClass:"cwhite",isChecked:t.showInComplete,onChange:n}),Object(l.jsx)("div",{className:"normal-bold-text cwhite top-bottom-pad8",children:"Filter Todos"})]})}));M.displayName="FilterPanel";var R=n.a.memo((function(e){var t=e.value,a=e.onChange,c=e.placeholder,n=e.name,o=e.extraClasses;return Object(l.jsx)("input",{type:"text","data-name":n,value:t,className:"text-input mar8 pad12 ".concat(o||""),placeholder:c,onChange:a})}));R.displayName="Text Input";var U=n.a.memo((function(e){var t=e.label,a=e.onClick,c=e.extraClasses;return Object(l.jsx)("button",{className:"green-btn mar8 ".concat(c),onClick:a,children:t})}));U.displayName="Button";var W=n.a.memo((function(e){var t=e.date;return Object(l.jsxs)("div",{className:"header__left",children:[Object(l.jsx)("div",{className:"header__left__name",children:"Todo App"}),Object(l.jsx)("div",{className:"header__left__date",children:t})]})}));W.displayName="TitleAndDate";var G=n.a.memo((function(e){var t=e.searchValue,a=e.onFilterAction,n=Object(c.useCallback)((function(e){return a({type:_,payload:{newSearchValue:e.target.value}})}),[a]),o=Object(c.useCallback)((function(){return a({type:_,payload:{newSearchValue:""}})}),[a]);return Object(l.jsxs)("div",{className:"header__right",children:[Object(l.jsx)(R,{name:"search",value:t,placeholder:"search todos",onChange:n,extraClasses:"header__right__search-input"}),Object(l.jsx)(U,{label:"Clear",onClick:o})]})}));G.displayName="SearchBar";var P=n.a.memo((function(e){var t=e.date,a=e.searchValue,c=e.onFilterAction;return Object(l.jsxs)("div",{className:"header",children:[Object(l.jsx)(W,{date:t}),Object(l.jsx)(G,{searchValue:a,onFilterAction:c})]})}));P.displayName="Header";var V=a(2),H=n.a.memo((function(e){var t=e.name,a=e.initialValue,c=e.values,n=e.onChange;return Object(l.jsx)("select",{"data-name":t,value:a,className:"dropdown mar8 pad12",onChange:n,children:Object.entries(c).map((function(e){var t=Object(s.a)(e,2),a=t[0],c=t[1];return Object(l.jsx)("option",{value:c,children:c[0].toUpperCase()+c.slice(1)},a)}))})}));H.displayName="Dropdown";var Y=function(e){var t=e.formData,a=e.onFormChange;return Object(l.jsxs)("div",{className:"form",children:[Object(l.jsx)(R,{name:k.TITLE.toLocaleLowerCase(),value:t.title,placeholder:"Add Todo Title",onChange:a}),Object(l.jsx)("div",{className:"normal-bold-text cwhite mar8",children:k.URGENCY}),Object(l.jsx)(H,{name:k.URGENCY.toLocaleLowerCase(),initialValue:t.urgency,values:N,onChange:a}),Object(l.jsx)("div",{className:"normal-bold-text cwhite mar8",children:k.CATEGORY}),Object(l.jsx)(H,{name:k.CATEGORY.toLocaleLowerCase(),initialValue:t.category,values:w,onChange:a})]})},z=function(e){var t=e.title,a=e.urgency,c=void 0===a?N.LOW:a,n=e.category,o=void 0===n?w.PERSONAL:n;return{id:(new Date).valueOf(),date:(new Date).toLocaleString(),title:t,urgency:c,category:o,completed:!1}},B={title:"",urgency:N.LOW,category:w.PERSONAL},J=n.a.memo((function(e){var t=e.onTodoAction,a=Object(c.useState)(B),n=Object(s.a)(a,2),o=n[0],r=n[1],i=Object(c.useCallback)((function(e){return r((function(t){return Object(V.a)(Object(V.a)({},t),{},Object(F.a)({},e.target.dataset.name,e.target.value))}))}),[]),d=Object(c.useCallback)((function(){""!==o.title&&(t({type:m,payload:{newTodos:z(o)}}),r(B))}),[t,o]);return Object(l.jsxs)("div",{className:"card b12 pad8 top-mar8",children:[Object(l.jsx)("div",{className:"create-todo-text",children:"Create Todo"}),Object(l.jsx)(Y,{formData:o,onFormChange:i}),Object(l.jsx)(b,{btnClass:"todo-add-btn mar8",iconClass:"".concat(D[m]," cwhite"),onClick:d})]})}));J.displayName="CreateTodoForm";var q=function(e){var t=e.todos,a=t.length,n=Object(c.useMemo)((function(){return t.filter((function(e){return e.completed})).length}),[t]),o=0===a?0:Math.round(n/a*100);return Object(l.jsxs)("div",{className:"card b12 pad8 top-mar8",children:[Object(l.jsxs)("div",{className:"percentage-circle",children:[Object(l.jsx)("div",{className:"percetage-text",children:o+" %"}),Object(l.jsxs)("div",{className:"ratio-text",children:[n," / ",a]})]}),Object(l.jsx)("div",{className:"normal-bold-text cwhite top-bottom-mar8",children:"Analytics"})]})},K=n.a.memo(q),Q=n.a.memo((function(e){var t=e.todo,a=e.isSelected,n=e.onTodoAction,o=e.onModalWindowAction,r=Object(c.useCallback)((function(){n({type:h,payload:{ids:t.id}})}),[t,n]),s=Object(c.useCallback)((function(){return n({type:y,payload:{ids:t.id}})}),[t,n]),i=Object(c.useCallback)((function(){return n({type:f,payload:{id:t.id}})}),[t.id,n]),d=Object(c.useCallback)((function(){return o({type:A,payload:{data:t}})}),[t,o]);return Object(l.jsxs)("div",{className:"todo cwhite mar8 pad8 b12 ".concat(t.completed?"reduced-opacity":"original-opacity"),children:[Object(l.jsxs)("div",{className:"todo__topbar-btns",children:[Object(l.jsx)(b,{btnClass:"todo__topbar-btns__extra-style alter-visibility",iconClass:"".concat(D[O]," cwhite"),onClick:d}),Object(l.jsx)(b,{btnClass:"todo__topbar-btns__extra-style alter-visibility",iconClass:"".concat(D[y]," cwhite"),onClick:s})]}),Object(l.jsx)("div",{className:"normal-bold-text align-center mar10",style:{fontSize:"18px"},children:t.title}),Object(l.jsx)("div",{className:"align-center mar10",style:{fontSize:"14px"},children:t.date}),Object(l.jsxs)("div",{className:"align-center mar10",children:[Object(l.jsx)("i",{className:"".concat(D[t.urgency]," todo__preferences-icon mar8")}),Object(l.jsx)("i",{className:"".concat(D[t.category]," cwhite todo__preferences-icon mar8")})]}),Object(l.jsx)(U,{label:"".concat(t.completed?"Completed Undo?":"Mark Completed"),onClick:r,extraClasses:"todo__toggle-complete-btn mar10"}),Object(l.jsx)("button",{className:" ".concat(a?"blue-circle":"white-circle"," mar8"),onClick:i})]})}));Q.displayName="Todo";var X=function(e){var t=e.todos,a=e.currentlySelectedIds,c=e.onTodoAction,n=e.onModalWindowAction;return Object(l.jsx)(l.Fragment,{children:t.length?t.map((function(e){return Object(l.jsx)(Q,{todo:e,isSelected:a.includes(e.id),onTodoAction:c,onModalWindowAction:n},e.id)})):Object(l.jsx)("div",{className:"normal-bold-text cwhite top-mar8",children:"No todos to show"})})},Z=function(e){var t=e.children,a=e.title,n=Object(c.useState)(!1),o=Object(s.a)(n,2),r=o[0],i=o[1],d=Object(c.useCallback)((function(){return i(!0)}),[]),u=Object(c.useCallback)((function(){return i(!1)}),[]);return Object(l.jsxs)("div",{className:"top-bottom-mar8",style:{display:"flex",alignItems:"center"},onMouseOver:d,onMouseOut:u,children:[t,r&&Object(l.jsx)("div",{className:"tooltip-title",children:a})]})},$=n.a.memo((function(e){var t=e.currentlySelectedIds,a=e.onTodoAction,n=Object(c.useCallback)((function(){a({type:h,payload:{ids:t}})}),[t,a]),o=Object(c.useCallback)((function(){return a({type:x})}),[a]),r=Object(c.useCallback)((function(){return a({type:y,payload:{ids:t}})}),[t,a]);return Object(l.jsxs)("div",{className:"bulk-action-btns bulk-actions-position",children:[Object(l.jsx)(Z,{title:C,children:Object(l.jsx)(b,{btnClass:"right-left-mar8 bg-light",iconClass:"".concat(D[C]," cblack"),onClick:n})}),Object(l.jsx)(Z,{title:v,children:Object(l.jsx)(b,{btnClass:"right-left-mar8 bg-light",iconClass:"".concat(D[v]," cblack"),onClick:o})}),Object(l.jsx)(Z,{title:g,children:Object(l.jsx)(b,{btnClass:"right-left-mar8 bg-light",iconClass:"".concat(D[g]," cblack"),onClick:r})})]})}));$.displayName="BulkActionPanel";var ee=function(e){var t=e.children,a=e.onModalWindowAction;return Object(l.jsx)("div",{className:"modal",children:Object(l.jsxs)("div",{className:"modal__modal-content b12 pad12",children:[Object(l.jsx)("div",{className:"modal__modal-content__close-btn",onClick:function(){return a({type:T})},children:Object(l.jsx)("i",{className:D.CLOSE})}),t]})})},te=n.a.memo((function(e){var t=e.todo,a=e.onModalWindowAction,n=e.onTodoAction,o=Object(c.useState)(t),r=Object(s.a)(o,2),i=r[0],d=r[1],u=Object(c.useCallback)((function(e){return d((function(t){return Object(V.a)(Object(V.a)({},t),{},Object(F.a)({},e.target.dataset.name,e.target.value))}))}),[]),b=Object(c.useCallback)((function(){""!==i.title&&(n({type:p,payload:{updatedTodos:i}}),a({type:T}))}),[a,n,i]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("div",{className:"normal-bold-text top-bottom-mar8 cblack",children:"Update Your Todo"}),Object(l.jsx)(Y,{formData:i,onFormChange:u}),Object(l.jsx)(U,{label:"Update",onClick:b})]})}));te.displayName="EditTodoForm";var ae=a(9),ce=function(){var e=[],t=function(t){return e.findIndex((function(e){return e.id===t}))},a=function(){return Math.random()<=.9999},c=function(){return localStorage.setItem("todos",JSON.stringify(e))};return{getTodosFromDatabase:function(){return new Promise((function(t,a){var c=JSON.parse(localStorage.getItem("todos")),n=[];c&&(e=[],c.forEach((function(t){e=e.concat(t),n.push(Object(V.a)({},t))}))),t(n)}))},createTodoInDatabase:function(t){return new Promise((function(n,o){a()?((Array.isArray(t)?t:[t]).forEach((function(t){return e=e.concat(Object(V.a)({},t))})),c(),n()):o("Opps!! something went wrong server side, plz try again after sometime")}))},updateTodoInDatabase:function(n){return new Promise((function(o,r){a()?((Array.isArray(n)?n:[n]).forEach((function(a,c){var n=t(a.id);e=e.slice(0,n).concat(Object(V.a)({},a),e.slice(n+1))})),c(),o()):r("Opps!! Cannot update right now, plz try again after sometime")}))},deleteTodoFromDatabase:function(n){return new Promise((function(o,r){a()?((Array.isArray(n)?n:[n]).forEach((function(a){var c=t(a);e=e.slice(0,c).concat(e.slice(c+1))})),c(),o()):r("Opps!! something went wrong while deleting TODO, plz try again after sometime")}))}}}(),ne=function(e,t){return e.findIndex((function(e){return e.id===t}))},oe=function(e,t){switch(t.type){case m:return Object(V.a)(Object(V.a)({},e),{},{todos:e.todos.concat(t.payload.newTodos)});case p:var a=Object(ae.a)(e.todos);return t.payload.updatedTodos.forEach((function(e){var t=ne(a,e.id);a[t]=e})),Object(V.a)(Object(V.a)({},e),{},{todos:a});case y:return Object(V.a)(Object(V.a)({},e),{},{todos:e.todos.filter((function(e){return!t.payload.ids.includes(e.id)}))});case f:return e.currentlySelectedIds.includes(t.payload.id)?Object(V.a)(Object(V.a)({},e),{},{currentlySelectedIds:e.currentlySelectedIds.filter((function(e){return e!==t.payload.id}))}):Object(V.a)(Object(V.a)({},e),{},{currentlySelectedIds:e.currentlySelectedIds.concat(t.payload.id)});case x:return Object(V.a)(Object(V.a)({},e),{},{currentlySelectedIds:[]});default:return e}},re={todos:[],currentlySelectedIds:[]},se=(a(15),{urgencyFilter:{},categoryFilter:{},showInComplete:!1,searchValue:""}),le=(a(16),function(e){var t=e.todos,a=e.currentlySelectedIds,c=e.filters,n=e.onAction;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("div",{className:"todo-app-body mar4",children:[Object(l.jsxs)("div",{className:"todo-app-body__sidebar b8 pad8",children:[Object(l.jsx)(M,{appliedFilter:c,onFilterAction:n.onFilterAction}),Object(l.jsx)(J,{onTodoAction:n.onTodoAction}),Object(l.jsx)(K,{todos:t})]}),Object(l.jsx)("div",{className:"todo-app-body__todo-panel b8",children:Object(l.jsx)(X,{todos:t,currentlySelectedIds:a,onTodoAction:n.onTodoAction,onModalWindowAction:n.onModalWindowAction})})]}),Object(l.jsx)($,{currentlySelectedIds:a,onTodoAction:n.onTodoAction})]})}),ie=function(){var e=function(){var e=Object(c.useReducer)(oe,re),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(c.useContext)(i),r=Object(c.useRef)();r.current=o,Object(c.useEffect)((function(){return ce.getTodosFromDatabase().then((function(e){n({type:m,payload:{newTodos:e}})})).catch(r.current)}),[]);var l=Object(c.useCallback)((function(e){var t,c,o=e.type,s=e.payload;switch(o){case m:ce.createTodoInDatabase(s.newTodos).then((function(){n({type:m,payload:{newTodos:Array.isArray(s.newTodos)?s.newTodos:[s.newTodos]}})})).catch(r.current);break;case p:t=s.updatedTodos,ce.updateTodoInDatabase(t).then((function(){n({type:p,payload:{updatedTodos:Array.isArray(t)?t:[t]}}),Array.isArray(t)&&n({type:x})})).catch(r.current);break;case y:c=s.ids,ce.deleteTodoFromDatabase(c).then((function(){n({type:y,payload:{ids:Array.isArray(c)?c:[c]}}),Array.isArray(s.ids)&&n({type:x})})).catch(r.current);break;case h:c=Array.isArray(s.ids)?s.ids:[s.ids],t=c.map((function(e){var t=ne(a.todos,e);return Object(V.a)(Object(V.a)({},a.todos[t]),{},{completed:!a.todos[t].completed})})),ce.updateTodoInDatabase(t).then((function(){n({type:p,payload:{updatedTodos:t}}),Array.isArray(s.ids)&&n({type:x})})).catch(r.current);break;case f:n({type:o,payload:s});break;case x:n({type:o})}}),[a]);return{todosState:a,onTodoAction:l}}(),t=e.todosState,a=e.onTodoAction,n=function(){var e=Object(c.useState)(se),t=Object(s.a)(e,2),a=t[0],n=t[1],o=Object(c.useCallback)((function(e){var t=e.type,c=e.payload;switch(t){case E:var o=Object(V.a)(Object(V.a)({},a.urgencyFilter),{},Object(F.a)({},c.type,!a.urgencyFilter[c.type]));n(Object(V.a)(Object(V.a)({},a),{},{urgencyFilter:o}));break;case S:var r=Object(V.a)(Object(V.a)({},a.categoryFilter),{},Object(F.a)({},c.type,!a.categoryFilter[c.type]));n(Object(V.a)(Object(V.a)({},a),{},{categoryFilter:r}));break;case I:n(Object(V.a)(Object(V.a)({},a),{},{showInComplete:!a.showInComplete}));break;case _:n(Object(V.a)(Object(V.a)({},a),{},{searchValue:c.newSearchValue}))}}),[a]);return{filters:a,onFilterAction:o}}(),o=n.filters,r=n.onFilterAction,d=function(){var e=Object(c.useState)({isOpen:!1,data:{}}),t=Object(s.a)(e,2),a=t[0],n=t[1];return{modalWindow:a,onModalWindowAction:Object(c.useCallback)((function(e){var t=e.type,a=e.payload;switch(t){case A:n({isOpen:!0,data:a.data});break;case T:n({isOpen:!1,data:{}})}}),[])}}(),u=d.modalWindow,b=d.onModalWindowAction,j=function(){var e=Object(c.useState)((new Date).toDateString()),t=Object(s.a)(e,2),a=t[0],n=t[1];return Object(c.useEffect)((function(){setInterval((function(){n((new Date).toDateString())}),6e4)}),[]),{date:a}}().date,O=Object(c.useMemo)((function(){return t.todos.filter((function(e){return function(e,t){var a=!(t.urgencyFilter[N.LOW]||t.urgencyFilter[N.MEDIUM]||t.urgencyFilter[N.HIGH]),c=!(t.categoryFilter[w.PERSONAL]||t.categoryFilter[w.ACADEMIC]||t.categoryFilter[w.SOCIAL]),n=t.showInComplete,o=""===t.searchValue||e.title.toLowerCase().indexOf(t.searchValue)+1;return(t.urgencyFilter[e.urgency]||a)&&(t.categoryFilter[e.category]||c)&&(n&&!e.completed||!n)&&o}(e,o)}))}),[o,t]),C=Object(c.useMemo)((function(){return{onTodoAction:a,onFilterAction:r,onModalWindowAction:b}}),[a,r,b]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(P,{date:j,searchValue:o.searchValue,onFilterAction:r}),Object(l.jsx)(le,{todos:O,currentlySelectedIds:t.currentlySelectedIds,filters:o,onAction:C}),u.isOpen&&Object(l.jsx)(ee,{onModalWindowAction:b,children:Object(l.jsx)(te,{todo:u.data,onModalWindowAction:b,onTodoAction:a})})]})};a(17);r.a.render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(d,{children:Object(l.jsx)(ie,{})})}),document.getElementById("root"))}},[[18,1,2]]]);
//# sourceMappingURL=main.5da09395.chunk.js.map